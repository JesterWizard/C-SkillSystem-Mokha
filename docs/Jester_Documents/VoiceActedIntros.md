# Voice Acted Intros - How to Install WAVs into Your Game

---

## ðŸ“‘ Index
- [Introduction](#introduction)
- [Plan](#plan)
- [Tools](#tools)
- [How to Modify](#how-to-modify)
- [Limitations and Bugs](#limitations-and-bugs)

---

## Introduction

A lot of guides for music/sound on FEUniverse focus on **MIDI installation**. That makes sense: MIDI files are tiny compared to WAVs, which are relatively large.

The GBA isnâ€™t widely known for advanced audio, but it **can** play voiced audio (see old GBA Video cartridges). For voiced dialogue and short high-quality clips, **WAVs** are a good choice.

This guide focuses specifically on preparing and installing WAVs into a buildfile-based ROM project.

---

## Plan

This guide explains how to:

- Prepare WAV files for the GBA
- Compress them with FEBuilder
- Convert them to `.bin`
- Generate an Event Assembler installer (`.txt`) using WAV2EA
- Insert the installer and `.bin` into your buildfile and call the audio in-game

---

## Tools

You will need:

- **WAV2EA** â€” converts a `.bin` into an EA-insertable `.txt` installer  
  (WAV2GBA is usually bundled with this)
- **WAV2GBA** â€” converts WAV â†’ GBA-friendly `.bin`
- **FEBuilder** â€” for downsampling and DPCM compression
- A good ear for judging audio quality

Links:

- WAV2EA: https://feuniverse.us/t/wav2ea-convert-wavs-to-a-ea-insertable-format/2686  
- FEBuilder: https://github.com/FEBuilderGBA/FEBuilderGBA/releases/tag/ver_20240521.05

---

## How to Modify

1. **Grab your WAV** from whatever source you like. Trim and clean it first.

2. **Open FEBuilder â†’ Sound â†’ Song Track**  
   - Select a slot and click **Import Music**. Use these settings:
     - **Audio Quality:** `11025Hz - 22050Hz`
     - **Remove Silence:** `1 (Remove Silence)`
     - **Channel:** `1 = 8-bit mono`
     - **Volume:** `200% - 300%`
     - **DPCM Compression:** `Compression = 1`, `Lookahead = 3`

   > Note: DPCM compression requires the **m4a mixer** patch. Install it via FEBuilderâ€™s Patches menu.

   Use **Preview** to inspect how the processed audio sounds.

3. **Click Import.** (Ignore loop settings â€” youâ€™ll re-export later.)

4. **Open the Instrument Set** for the track you just imported.

5. **Export WAV Data** and choose a filepath. This produces a smaller, processed WAV that should sound reasonable.

6. **Convert the processed WAV to `.bin`** using WAV2GBA: drag the WAV onto one of WAV2GBAâ€™s batch files (or use the Linux equivalent). This produces a `.bin`.

7. **Run WAV2EA**: open WAV2EA, select the `.bin`, and fill the required fields.  
   - Use `Music List.txt` for replacing IDs and `Group List.txt` for group IDs.

8. **Save the installer** â€” WAV2EA will produce a `.txt` installer in the same folder.

9. **Copy files into your buildfile folder**:
   - `MPlayDef.event`
   - The `.txt` installer generated by WAV2EA
   - The `.bin` file

10. **IMPORTANT: Fix the installer symbol**  
    In the generated `.txt` file, find the symbol `loop_sfx_mvl` (usually around line 19).  
    Append your bin filename to this symbol. Example:

    If your `.bin` is named `my_cool_track.bin`, change:
    ```
    loop_sfx_mvl
    ```
    to:
    ```
    loop_sfx_mvl_my_cool_track
    ```

    If you do not perform this rename, the installer will fail to install the audio.

11. **Install with Event Assembler.** Assemble the `.txt` installer into your ROM as usual.

12. **Call the track in-game**:
    - As a sound effect:
      ```
      SOUN <id>
      ```
    - As music:
      ```
      MUSC <id>
      ```
    Where `<id>` is the Music List ID you assigned in WAV2EA.

---

## Limitations and Bugs

- The GBA cannot decode MP3s or modern compressed formats in real time, so WAV (with DPCM compression) is the practical option.  
- WAVs are large even after compression; storage is limited.  
- Better compression solutions (e.g., **8ad**) require replacing the sound engine, which is outside the scope of this guide and significantly more complex.